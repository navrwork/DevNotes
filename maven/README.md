# Maven Notes

## Maven Reference
* [Maven in 5 Minutes | apache.org](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html)
* [Introduction to the Build Lifecycle | apache.org](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html)
* [Plugin bindings for jar packaging | apache.org](https://maven.apache.org/ref/3.5.0/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging)
* [A short guide to Maven | marcobehler.com](https://www.marcobehler.com/guides/mvn-clean-install-a-short-guide-to-maven)
* [Maven Tutorial | edureka.co](https://www.edureka.co/blog/maven-tutorial/)
* [Maven Commands Cheat Sheet | digitalocean.com](https://www.digitalocean.com/community/tutorials/maven-commands-options-cheat-sheet#maven-commands-cheat-sheet)


## Maven Lifecycle
<img src="https://github.com/navrwork/dev-notes/assets/149756645/788006d0-3a39-44eb-bb56-01d332f9c03f" height="360" width="720" />

There are three built-in life cycles:
* default – This is the main life cycle of Maven as it is responsible for project deployment.
* clean – This life cycle is used to clean the project and remove all files generated by the previous build.
* site – The aim of this life cycle is to create the project’s site documentation.

### Maven Phases
A Maven phase is nothing but a stage in the Maven build life cycle. Each phase executes a specific task. Here are a few important phases in the default build life cycle

* validate –  This phase checks if all information necessary for the build is available
* compile – This phase compiles the source code
* test-compile – This phase compiles the test source code
* test – This phase runs unit tests
* package – This phase packages compiled source code into the distributable format (jar, war)
* integration-test – This phase processes and deploys the package if needed to run integration tests
* install – This phase installs the package to a local repository
* deploy – This phase copies the package to the remote repository

The phases are executed in a specific order and depend on each other. When you try to execute a specific phase, maven automatically executes all all preceding phases. For instance, when you call _mvn deploy_, mvn will also execute every lifecycle phase before deploy, in order: validate, compile, test, package, verify, install.

### Maven Goals
A sequence of goals constitutes a phase and each goal executes a specific task. When you run a phase, then Maven executes all the goals in an order that are associated with that phase. The syntax used is plugin:goal. Some of the phases and the default goals bound to them are as follows :
* compiler:compile – compile phase
* compiler:test – test-compile phase
* surefire:test – test phase
* install:install – install phase
* jar:jar and war:war – package phase

## Maven Commands
* **_$ mvn --version_** : Display version information
* **_$ mvn clean deploy_** : Copies the final package to the remote repository for sharing with other developers and projects.
* **_$ mvn clean install_** : The command installs the package into the local repository, for use as a dependency in other projects locally.
* **_$ mvn clean install -Dmaven.test.skip=true_** : Same as "clean install". However, doesn't compile or execute the tests.
* **_$ mvn clean install -DskipTests_** : Same as "clean install". Compiles the tests but the tests are NOT executed.
* **_$ mvn surefire-report:report_** : Generates surefire report.
* **_$ mvn clean jacoco:prepare-agent install jacoco:report_** : Generates JaCoCo code coverage report.
* **_$ mvn versions:set -DnewVersion=<your_new_version_here>_** : A flexible way to set pom versions, multi-modules projects included, is Versions Maven Plugin. It will adjust all pom versions, parent versions and children versions in a multi-module project.
